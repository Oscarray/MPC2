<!DOCTYPE HTML>
<html>
<head>
    <title>MPC Assignment 2</title>
    <meta name="author" content="Oscar Rayment" />
    <meta name="date" content="March 21 2017" />
    
    <script src="https://rawgit.com/Tonejs/Tone.js/master/build/Tone.js"></script>
    <script src="https://rawgit.com/lsu-emdm/nexusUI/master/dist/nexusUI.js"></script>

    <style>
        body, html{
            background-color: black;
            margin: 0;
            width: 100%;
            height: 100%;
        }
    
    div#leftMenu{
        background-color: #30144f;
        width: 15%;
        height: 100%;
        float: left;
    }
    
    div#main{
        background-color: #133845;
        width: 70%;
        height: 100%;
        float: left;
    }
    
    div#rightMenu{
        background-color: #30144f;
        width: 15%;
        height: 100%;
        float: left;
    }
        
    #main canvas{
        width: 90%;
        height: 100%;
        
        }
        
     .selectorButton{
        background-color: #30144f;
        color: white;
        width: 100%;
       height: 25%;
        float: left;
        display: block;
        border-radius: 2px;
        transition-duration: 0.4s;
        }
        
        .drpButton{
            background-color: #30144f;
        color: white;
        width: 100%;
       height: 100%;
        float: left;
        display: block;
        border-radius: 2px;
        transition-duration: 0.4s;
        }
        
        
    .drpButton:hover, .selectorButton:hover{
        background-color: #9b6bcf;
        color: black;
        }
  
    .dropdown{
        position: relative;
        float: left;
        display: block;
        height: 25%;
        width: 100%;
        
        }
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #30144f;
        overflow: auto;
        width: 100%;
        height: 100%;
        z-index: 1;
        } 
        
    .dropdown-content a {
        color: white;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        }
        
    .dropdown a:hover {background-color: #9b6bcf}

    myDropdown.show {display:block;}


    </style>
    <script>
    nx.onload = function() {
        matrix1.col = 16;
        matrix1.row = 12;
        //matrix1.tempo = 120;
        //matrix1.bpm = tempo;
        matrix1.init();
    }
  </script>
    
</head>
<body id="mainBody" width="100%" height="100%">
  <div id="leftMenu">
      <button id= button1 class= selectorButton>Dave</button>
      <button id= button2 class= selectorButton>Drum Pads</button>
      <button id= button3 class= selectorButton>FX</button>
      <button id= button4 class= selectorButton>Settings</button>
      
  </div>
  <div id="main">
      <canvas nx=matrix></canvas>  
      
  </div>
  <div id="rightMenu">
      <div class= "dropdown">
      <button onclick="dropdown1()" id="button5" class="drpButton">Play</button>
        <div id= "dropdown1" class= "dropdown-content">
            <a href="#play">Play</a>
            <a href="#pause">Pause</a>
            <a href="#reset">Reset</a>
        </div>
      </div>
      
      <div class= "dropdown">
      <button onclick="dropdown2()" id="button6" class="drpButton">Tempo</button>
        <div id= "dropdown2" class= "dropdown-content">
            <a href="#tempo1">Tempo +</a>
            <a href="#tempo2">Tempo -</a>
            <a href="#reset2">Reset</a>

        </div>
      </div>
      
      <div class= "dropdown">
      <button onclick="dropdown3()" id="button7" class="drpButton">Volume</button>
        <div id= "dropdown3" class= "dropdown-content">
            <a href="#volume1">Volume +</a>
            <a href="#volume2">Volume -</a>
            <a href="#mute">Mute</a>

        </div>
      </div>
      
      <div class= "dropdown">
      <button onclick="dropdown4()" id="button8" class="drpButton">Discard</button>
        <div id= "dropdown4" class= "dropdown-content">
            <a href="#play">Play</a>
            <a href="#pause">Pause</a>
            <a href="#reset">Reset</a>
            <a href="#erase">Erase</a>
        </div>
      </div>
  </div>
    
    <script> 
          // Display dropdown 1
        function dropdown1() {
            var contentId = document.getElementById("dropdown1");
              // Toggle 
              contentId.style.display == "block" ? contentId.style.display = "none" : 
            contentId.style.display = "block"; 
        }
        // Display dropdown 2
        function dropdown2() {
            var contentId = document.getElementById("dropdown2");
              // Toggle 
              contentId.style.display == "block" ? contentId.style.display = "none" : 
            contentId.style.display = "block"; 
        }
        // Display dropdown 3
        function dropdown3() {
            var contentId = document.getElementById("dropdown3");
              // Toggle 
              contentId.style.display == "block" ? contentId.style.display = "none" : 
            contentId.style.display = "block"; 
        }
        // Display dropdown 4
        function dropdown4() {
            var contentId = document.getElementById("dropdown4");
              // Toggle 
              contentId.style.display == "block" ? contentId.style.display = "none" : 
            contentId.style.display = "block"; 
        }
       var tempo = 120;
       var seqState = 0; 
        document.getElementById("button5").addEventListener("click", startStop);
        function startStop() {
             if (seqState == 0){
            matrix1.sequence(tempo);
                 seqState = 1;
                 document.getElementById("button5").innerHTML = "Pause";
             }
             else {
              matrix1.stop();
              seqState = 0;
                 document.getElementById("button5").innerHTML = "Play";
             }
        }
        
        var players[];
        
       function load808(){
        console.log(selector.value);
           
           players[0] = new Tone.player("808/808 Kick 1.aif");
           players[0].retrigger = true;
           players[0].connect(Tone.master);
           
       }
        
        function drumActions(){
         
            if (event.list != undefined){
             for (var x=0; x<12; x++){
              if (event.list[x] == 1){
               players[i].start();   
              }
             }
            }
        }
      
    </script>
  
</body>
</html>

